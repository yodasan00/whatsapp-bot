import type { $ZodObject, $ZodShape, $ZodType, infer as zodInfer } from 'zod/v4/core';
import { type TurnContext, type ToolWithExecute, type ToolWithGenerator, type ManualTool, type NextTurnParamsFunctions } from "./tool-types.js";
/**
 * Configuration for a regular tool with outputSchema
 */
type RegularToolConfigWithOutput<TInput extends $ZodObject<$ZodShape>, TOutput extends $ZodType> = {
    name: string;
    description?: string;
    inputSchema: TInput;
    outputSchema: TOutput;
    eventSchema?: undefined;
    nextTurnParams?: NextTurnParamsFunctions<zodInfer<TInput>>;
    execute: (params: zodInfer<TInput>, context?: TurnContext) => Promise<zodInfer<TOutput>> | zodInfer<TOutput>;
};
/**
 * Configuration for a regular tool without outputSchema (infers return type from execute)
 */
type RegularToolConfigWithoutOutput<TInput extends $ZodObject<$ZodShape>, TReturn> = {
    name: string;
    description?: string;
    inputSchema: TInput;
    outputSchema?: undefined;
    eventSchema?: undefined;
    nextTurnParams?: NextTurnParamsFunctions<zodInfer<TInput>>;
    execute: (params: zodInfer<TInput>, context?: TurnContext) => Promise<TReturn> | TReturn;
};
/**
 * Configuration for a generator tool (with eventSchema)
 */
type GeneratorToolConfig<TInput extends $ZodObject<$ZodShape>, TEvent extends $ZodType, TOutput extends $ZodType> = {
    name: string;
    description?: string;
    inputSchema: TInput;
    eventSchema: TEvent;
    outputSchema: TOutput;
    nextTurnParams?: NextTurnParamsFunctions<zodInfer<TInput>>;
    execute: (params: zodInfer<TInput>, context?: TurnContext) => AsyncGenerator<zodInfer<TEvent> | zodInfer<TOutput>>;
};
/**
 * Configuration for a manual tool (execute: false, no eventSchema or outputSchema)
 */
type ManualToolConfig<TInput extends $ZodObject<$ZodShape>> = {
    name: string;
    description?: string;
    inputSchema: TInput;
    nextTurnParams?: NextTurnParamsFunctions<zodInfer<TInput>>;
    execute: false;
};
/**
 * Creates a tool with full type inference from Zod schemas.
 *
 * The tool type is automatically determined based on the configuration:
 * - **Generator tool**: When `eventSchema` is provided
 * - **Regular tool**: When `execute` is a function (no `eventSchema`)
 * - **Manual tool**: When `execute: false` is set
 *
 * @example Regular tool:
 * ```typescript
 * const weatherTool = tool({
 *   name: "get_weather",
 *   description: "Get weather for a location",
 *   inputSchema: z.object({ location: z.string() }),
 *   outputSchema: z.object({ temperature: z.number() }),
 *   execute: async (params) => {
 *     // params is typed as { location: string }
 *     return { temperature: 72 }; // return type is enforced
 *   },
 * });
 * ```
 *
 * @example Generator tool (with eventSchema):
 * ```typescript
 * const progressTool = tool({
 *   name: "process_data",
 *   inputSchema: z.object({ data: z.string() }),
 *   eventSchema: z.object({ progress: z.number() }),
 *   outputSchema: z.object({ result: z.string() }),
 *   execute: async function* (params) {
 *     yield { progress: 50 }; // typed as event
 *     yield { result: "done" }; // typed as output
 *   },
 * });
 * ```
 *
 * @example Manual tool (execute: false):
 * ```typescript
 * const manualTool = tool({
 *   name: "external_action",
 *   inputSchema: z.object({ action: z.string() }),
 *   execute: false,
 * });
 * ```
 */
export declare function tool<TInput extends $ZodObject<$ZodShape>, TEvent extends $ZodType, TOutput extends $ZodType>(config: GeneratorToolConfig<TInput, TEvent, TOutput>): ToolWithGenerator<TInput, TEvent, TOutput>;
export declare function tool<TInput extends $ZodObject<$ZodShape>>(config: ManualToolConfig<TInput>): ManualTool<TInput>;
export declare function tool<TInput extends $ZodObject<$ZodShape>, TOutput extends $ZodType>(config: RegularToolConfigWithOutput<TInput, TOutput>): ToolWithExecute<TInput, TOutput>;
export declare function tool<TInput extends $ZodObject<$ZodShape>, TReturn>(config: RegularToolConfigWithoutOutput<TInput, TReturn>): ToolWithExecute<TInput, $ZodType<TReturn>>;
export {};
//# sourceMappingURL=tool.d.ts.map